{
  "version": 3,
  "file": "editor.css",
  "sources": [
    "../src/Editor.html",
    "../src/Modal.html"
  ],
  "sourcesContent": [
    "<Modal show=\"{{show}}\"\n       on:modalClose=\"set({show:false})\"\n       on:modalOpen=\"set({show:true})\"\n       title=\"{{ mode === 'create' ? newTitleText : editTitleText }}\"\n       color=\"{{ entry.color }}\">\n\n  <div class=\"field\">\n    <label>Entry Title</label>\n    <input id=\"entry-title\" placeholder=\"Enter a short but descriptive title\" bind:value=\"entry.title\">\n  </div>\n  <div class=\"field\">\n    <label>All Day</label>\n    <input type=\"checkbox\" bind:checked=\"entry.all_day\">\n  </div>\n  <div class=\"field-group\">\n    <div class=\"field\">\n      <label>Start</label>\n      <input type=\"text\" bind:value=\"start_date\" placeholder=\"YYYY-MM-DD\">\n\n    </div>\n    {{#if !entry.all_day }}\n    <div class=\"field\">\n      <label>Time From</label>\n      <input type=\"text\" placeholder=\"optional\" bind:value=\"start_time\">\n    </div>\n    {{/if}}\n\n  </div>\n  <p class=\"feedback\">{{ entry.all_day ? _start.toDateString() : _start.toString() }}</p>\n  <div class=\"field-group\">\n    <div class=\"field\">\n      <label>End</label>\n      <input type=\"text\" bind:value=\"end_date\" placeholder=\"YYYY-MM-DD\">\n    </div>\n    {{#if !entry.all_day }}\n    <div class=\"field\">\n      <label>Time To</label>\n      <input type=\"text\" placeholder=\"optional\" bind:value=\"end_time\">\n    </div>\n    {{/if}}\n  </div>\n  <p class=\"feedback\">{{ entry.all_day ? _end.toDateString() : _end.toString() }}</p>\n\n  <div class=\"field\">\n    <label>Entry Color</label>\n    <div>\n      {{#each colorOptions as hex }}\n      <span class=\"color {{ color === hex ? 'selected' : ''}}\"\n            style=\"background-color: {{hex}}\" on:click=\"setDeep('entry.color', hex)\"></span>\n      {{/each}}\n    </div>\n  </div>\n  <div class=\"field\">\n    <label>Content</label>\n    <textarea bind:value=\"entry.content\"></textarea>\n  </div>\n  <button class=\"button\" on:click=\"submit()\" ref:submitButton>Submit</button>\n</Modal>\n\n<script>\n\n  import Modal from './Modal.html'\n  import {setDeep} from './extras'\n  import {offset, localDate, localTime} from './utils'\n\n  export default {\n    components: {Modal},\n    oncreate: function () {\n\n      const calendar = this.get('calendar')\n\n      this.set({\n        monthNames: calendar.get('monthNames'),\n        defaultColor: calendar.get('defaultColor'),\n      })\n\n      this.reset()\n\n      calendar.on('newClicked', event => {\n        var date = event.day.date\n        var placeholder = date.toISOString().substr(0, 10)\n        date.setHours(10)\n        this.set({\n          show: true,\n          mode: 'create',\n          start_date: placeholder,\n          end_date: placeholder,\n          start_time: \"12:00\",\n          end_time: \"12:00\",\n          entry: {\n            title: '',\n            color: this.get('defaultColor'),\n            all_day: false,\n            content: '',\n          }\n        })\n      })\n\n      calendar.on('editClicked', event => {\n        const entry = Object.assign({}, event.entry)\n        calendar.set({showModal: false})\n        const start_date = localDate(entry._start)\n        const start_time = localTime(entry._start)\n        const end_date = localDate(entry._end)\n        const end_time = localTime(entry._end)\n        this.set({\n          entry,\n          start_date,\n          start_time,\n          end_date,\n          end_time,\n          show: true,\n          mode: 'edit',\n        })\n      })\n\n      calendar.on('deleteClicked', event => {\n        const entry = event.entry\n        if (confirm(\"Really delete? There is no undo.\")) {\n          this.delete(entry)\n          calendar.set({showModal: false})\n        }\n      })\n\n      calendar.on('entryClicked', event => {\n        const entry = event.entry\n        this.set({entry: entry})\n        calendar.set({\n          modalButtons: [\n            {text: 'Edit', id: 'editClicked'},\n            {text: 'Delete', id: 'deleteClicked'}\n          ]\n        })\n      })\n    },\n    data: function () {\n      return {\n        calendar: null,\n        show: false,\n        mode: 'create', // or 'edit'\n        entry: {},\n        monthNames: [],\n        newTitleText: 'Add New Entry',\n        editTitleText: 'Edit Entry',\n        start_date: '',\n        start_time: '',\n        end_date: '',\n        end_time: '',\n        color: '',\n        colorOptions: [\n          \"#00008b\",\n          \"#B03060\",\n          \"#FE9A76\",\n          \"#FFD700\",\n          \"#32CD32\",\n          \"#016936\",\n          \"#008080\",\n          \"#0E6EB8\",\n          \"#EE82EE\",\n          \"#B413EC\",\n          \"#A52A2A\",\n          \"#A0A0A0\",\n          \"#000000\"\n        ]\n      }\n    },\n    computed: {\n      _start: function (start_date, start_time) {\n        return new Date(start_date + 'T' + (start_time || '12:00') + offset())\n      },\n      _end: function (end_date, end_time) {\n        return new Date(end_date + 'T' + (end_time || '12:00') + offset())\n      }\n    },\n    methods: {\n      setDeep,\n      reset: function () {\n        this.set({\n          start_date: '',\n          start_time: '12:00',\n          end_date: '',\n          end_time: '12:00',\n          entry: {\n            title: '',\n            color: this.get('defaultColor'),\n            content: ''\n          }\n        })\n      },\n      submit: function () {\n        var mode = this.get('mode')\n        if (mode === 'create') this.create()\n        if (mode === 'edit') this.update()\n      },\n      update: function () {\n        var calendar = this.get('calendar')\n        var entry = this.get('entry')\n        if (!entry.id) return false\n        var entries = calendar.get('entries')\n        var index = entries.findIndex(e => e.id === entry.id)\n        if (index < 0) return false\n        entry.start = this.get('_start').toISOString()\n        entry.end = this.get('_end').toISOString()\n        entries.splice(index, 1, entry)\n        calendar.set({entries: entries})\n        this.set({show: false})\n        this.reset()\n        this.fire('entryUpdated', {entry: entry})\n      },\n      create: function () {\n        const calendar = this.get('calendar')\n        const entry = this.get('entry')\n        entry.start = this.get('_start').toISOString()\n        entry.end = this.get('_end').toISOString()\n        entry.id = Math.random().toString(36).substr(2) // temp id\n        const entries = calendar.get('entries')\n        entries.push(entry)\n        calendar.set({entries: entries})\n        this.set({show: false})\n        this.fire('entryCreated', {entry: entry})\n      },\n      delete: function (entry) {\n        const calendar = this.get('calendar')\n        if (!entry.id) return false\n        const entries = calendar.get('entries')\n        const index = entries.findIndex(e => e.id === entry.id)\n        if (index < 0) return false\n        entries.splice(index, 1)\n        calendar.set({entries: entries})\n        this.reset()\n        this.set({show: false})\n        this.fire('entryDeleted', {entry: entry})\n      }\n    }\n  }\n</script>\n\n<style>\n  * {\n    font-family: Arial, Helvetica, sans-serif;\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    font-size: 14px;\n  }\n\n  input,\n  textarea {\n    border: 1px solid #ccc;\n    margin-top: 0.1rem;\n    margin-bottom: 0.1rem;\n    margin-right: 0.1rem;\n    padding: 0.4rem 0.6rem;\n    font-family: monospace;\n    font-size: 14px;\n    color: black;\n    background-color: white;\n    width: 100%;\n  }\n\n  textarea {\n    min-height: 100px;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .feedback {\n    margin-top: 0.4rem;\n    margin-bottom: 1rem;\n    font-style: italic;\n    font-size: 0.9rem;\n    color: #333;\n  }\n\n  .help {\n    margin: 0.4rem 0;\n    font-size: 0.9rem;\n    color: #333;\n    font-style: italic;\n  }\n\n  .button-bar {\n    margin-top: 1rem;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  input[type=\"checkbox\"] {\n    width: auto;\n  }\n\n  .color {\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    border: 1px solid black;\n    margin: 5px;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .color.selected {\n    box-shadow: 2px 2px 3px black;\n  }\n\n  button {\n    font-family: Arial, Helvetica, sans-serif;\n    border: 1px solid #333;\n    border-radius: 3px;\n    padding: 0.3rem 0.6rem;\n    background: white;\n    color: black;\n  }\n\n  button:hover {\n    cursor: pointer;\n    background: #ddd;\n  }\n\n  .field {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n    align-items: flex-start;\n  }\n\n  .field label {\n    margin-bottom: 0.2rem;\n    color: #333;\n    font-weight: 600;\n  }\n\n  .field-group {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .field-group .field {\n    width: 49%;\n    margin-bottom: 0;\n  }\n\n</style>\n",
    "<:Window on:keydown=\"set({ show: show && event.keyCode !== 27})\" />\n<div class=\"modal {{ show ? 'active' : ''}}\">\n  <div class=\"modal-background\" on:click=\"set({show: false})\"></div>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\" style=\"background-color: {{ color }};\">\n      <span class=\"modal-title\" style=\"color: {{ contrastColor(color) }}\">{{ title }}</span>\n      <button class=\"modal-close\" aria-label=\"close\" style=\"color: {{ contrastColor(color) }}\" on:click=\"set({show: false})\">&times;</button>\n    </div>\n    <div class=\"modal-body\">\n      <slot></slot>\n    </div>\n  </div>\n</div>\n\n<script>\n  import { contrastColor } from './utils'\n\n  export default {\n    data() {\n      return {\n        show: false,\n        title: 'This is the title of the Modal and it might be very long',\n        color: '#f5f5f5', // whitesmoke\n        // color: '#eeeeee',\n      }\n    },\n    helpers: { contrastColor },\n    oncreate: function () {\n      this.observe('show', show => {\n        if (!show) {\n          this.fire('modalClose')\n          document.querySelector('html').style.overflow = ''\n        } else {\n          this.fire('modalOpen')\n          document.querySelector('html').style.overflow = 'hidden'\n        }\n      })\n    }\n  }\n</script>\n\n<style>\n  .modal {\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    display: none;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    overflow: hidden;\n    position: fixed;\n    z-index: 20;\n    transition: opacity 0.3s ease-out;\n  }\n\n  .modal.active {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n  }\n\n  .modal-background {\n    bottom: 0;\n    left: 0;\n    position: fixed;\n    right: 0;\n    top: 0;\n    background-color: rgba(10, 10, 10, 0.86);\n  }\n\n  .modal-container {\n    margin: 0 20px;\n    max-height: calc(100vh - 100px);\n    overflow: auto;\n    position: relative;\n    width: 100%;\n    display: -ms-flexbox;\n    display: flex;\n    flex-direction: column;\n    -ms-flex-direction: column;\n    background-color: white;\n    border-radius: 3px;\n  }\n\n  @media screen and (min-width: 769px),\n  print {\n    .modal-container {\n      margin: 0 auto;\n      max-height: calc(100vh - 40px);\n      width: 640px;\n    }\n  }\n\n  .modal-header {\n    padding: 1rem 1rem 1rem 1.4rem;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .modal-title,\n  .modal-close {\n    font-family: Arial, Helvetica, sans-serif;\n  }\n\n  .modal-title {\n    font-size: 1.5rem;\n    font-weight: 600;\n    flex-grow: 1;\n  }\n\n  .modal-body {\n    padding: 2rem;\n    overflow: auto;\n  }\n\n  .modal-close {\n    outline: 0;\n    border-radius: 290486px;\n    background: none;\n    width: 30px;\n    height: 30px;\n    border: none;\n    font-size: 20px;\n    font-weight: 600;\n    cursor: pointer;\n    flex: 0 0 30px;\n    align-self: flex-start;\n  }\n\n  .modal-close:hover {\n    background-color: rgba(10, 10, 10, 0.2);\n  }\n\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}